import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import { Badge } from '../components/ui';
import LocationSearch from '../components/ui/LocationSearch';
import { ArrowRight, Star, Users, Package, Truck, Box, Building, DollarSign, RotateCcw, Search, Rocket, Printer, ArrowLeftRight, BarChart3, CreditCard, TrendingUp, Smartphone, User, ShoppingCart, MapPin, Banknote, Bike, Battery, Ruler, Scale, Calculator, X, CheckCircle, Clock, AlertCircle, Truck as TruckIcon, MapPin as MapPinIcon, Package as PackageIcon, User as UserIcon, Zap } from 'lucide-react';
import { calculateTariff } from '../services/tariffService';
import { expeditionAPI } from '../services/api';

export default function Home() {
  const [trackingNumber, setTrackingNumber] = useState('');
  const [pickupLocation, setPickupLocation] = useState('');
  const [deliveryLocation, setDeliveryLocation] = useState('');
  const [pickupCoords, setPickupCoords] = useState(null);
  const [deliveryCoords, setDeliveryCoords] = useState(null);
  const [length, setLength] = useState('');
  const [width, setWidth] = useState('');
  const [height, setHeight] = useState('');
  const [weight, setWeight] = useState('');
  
  // √âtats pour le suivi de colis
  const [isTrackingLoading, setIsTrackingLoading] = useState(false);
  const [trackingResult, setTrackingResult] = useState(null);
  const [trackingError, setTrackingError] = useState('');
  const [showTrackingModal, setShowTrackingModal] = useState(false);

  const handleTracking = async (e) => {
    e.preventDefault();
    if (!trackingNumber.trim()) {
      setTrackingError('Veuillez saisir un num√©ro de suivi');
      return;
    }

    setIsTrackingLoading(true);
    setTrackingError('');
    setTrackingResult(null);

    try {
      // Utiliser sp√©cifiquement le service trackExpedition
      const response = await expeditionAPI.trackExpedition(trackingNumber.trim());

      if (response.data) {
        setTrackingResult(response.data);
        setShowTrackingModal(true);
      } else {
        setTrackingError('Aucun colis trouv√© avec ce num√©ro de suivi');
      }
    } catch (error) {
      console.error('Erreur lors du suivi:', error);
      setTrackingError('Erreur lors de la recherche du colis');
    } finally {
      setIsTrackingLoading(false);
    }
  };

  const handleEstimation = async (e) => {
    e.preventDefault();
    
    // Validation des donn√©es d'entr√©e
    if (!pickupLocation || !deliveryLocation) {
      alert('Veuillez saisir les adresses de ramassage et de livraison');
      return;
    }
    
    if (!length || !width || !height || !weight) {
      alert('Veuillez saisir toutes les dimensions et le poids');
      return;
    }
    
    // Convertir les dimensions en nombres
    const lengthNum = parseFloat(length);
    const widthNum = parseFloat(width);
    const heightNum = parseFloat(height);
    const weightNum = parseFloat(weight);
    
    if (lengthNum <= 0 || widthNum <= 0 || heightNum <= 0 || weightNum <= 0) {
      alert('Les dimensions et le poids doivent √™tre sup√©rieurs √† 0');
      return;
    }
    
    try {
      // Extraire les noms de villes des adresses (simplification)
      const pickupCity = pickupLocation.split(',')[0]?.trim() || 'Abidjan';
      const deliveryCity = deliveryLocation.split(',')[0]?.trim() || 'Abidjan';
      
      // Calculer la distance approximative si on a les coordonn√©es
      let distance = 0;
      if (pickupCoords && deliveryCoords) {
        // Calcul de distance simple (formule de Haversine simplifi√©e)
        const lat1 = pickupCoords.latitude;
        const lon1 = pickupCoords.longitude;
        const lat2 = deliveryCoords.latitude;
        const lon2 = deliveryCoords.longitude;
        
        const R = 6371; // Rayon de la Terre en km
        const dLat = (lat2 - lat1) * Math.PI / 180;
        const dLon = (lon2 - lon1) * Math.PI / 180;
        const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                  Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                  Math.sin(dLon/2) * Math.sin(dLon/2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        distance = R * c;
      }
      
      // Pr√©parer les donn√©es pour le calcul de tarification
      const shipmentData = {
        originCity: pickupCity,
        destinationCity: deliveryCity,
        weight: weightNum,
        length: lengthNum,
        width: widthNum,
        height: heightNum,
        volumeCm3: lengthNum * widthNum * heightNum,
        distance: distance,
        serviceType: 'standard',
        declaredValue: 0,
        isInsured: false,
        isDepotRelayPoint: false,
        isPickupRelayPoint: false,
        isHolidayWeekend: false,
        vehicleType: 'voiture',
        // Utiliser le premier transporteur disponible (ID 1 par d√©faut)
        carrierId: 1
      };
      
      console.log('üßÆ Calcul de tarification avec les donn√©es:', shipmentData);
      
      // Appeler le service de tarification
      const result = await calculateTariff(shipmentData);
      
      // Afficher le r√©sultat dans une alerte ou un modal
      const message = `
Estimation de tarification :

üìç De : ${pickupCity}
üìç Vers : ${deliveryCity}
üì¶ Dimensions : ${lengthNum} √ó ${widthNum} √ó ${heightNum} cm
‚öñÔ∏è Poids : ${weightNum} kg
üìè Distance : ${distance.toFixed(1)} km

üí∞ Prix estim√© : ${result.finalPrice.toFixed(0)} FCFA

D√©tails :
- Prix de base : ${result.breakdown.basePrice} FCFA
- Tarif poids : ${result.breakdown.weightTariff} FCFA
- Tarif volume : ${result.breakdown.volumeTariff} FCFA
- Tarif distance : ${result.breakdown.distanceTariff} FCFA
- Facteur zone : ${result.breakdown.factors.zoneFactor}
      `;
      
      alert(message);
      
    } catch (error) {
      console.error('Erreur lors du calcul de tarification:', error);
      alert('Erreur lors du calcul de tarification. Veuillez r√©essayer.');
    }
  };

  const handlePickupLocationSelect = (location) => {
    setPickupLocation(location.address);
    setPickupCoords({
      latitude: location.latitude,
      longitude: location.longitude
    });
  };

  const handleDeliveryLocationSelect = (location) => {
    setDeliveryLocation(location.address);
    setDeliveryCoords({
      latitude: location.latitude,
      longitude: location.longitude
    });
  };

  // Fonction pour obtenir l'ic√¥ne selon le statut
  const getStatusIcon = (status) => {
    switch (status?.toLowerCase()) {
      case 'en_attente':
      case 'pending':
        return <Clock className="w-5 h-5 text-yellow-500" />;
      case 'en_cours':
      case 'in_progress':
        return <TruckIcon className="w-5 h-5 text-blue-500" />;
      case 'livre':
      case 'delivered':
        return <CheckCircle className="w-5 h-5 text-green-500" />;
      case 'annule':
      case 'cancelled':
        return <AlertCircle className="w-5 h-5 text-red-500" />;
      default:
        return <PackageIcon className="w-5 h-5 text-gray-500" />;
    }
  };

  // Fonction pour obtenir la couleur selon le statut
  const getStatusColor = (status) => {
    switch (status?.toLowerCase()) {
      case 'en_attente':
      case 'pending':
        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';
      case 'en_cours':
      case 'in_progress':
        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';
      case 'livre':
      case 'delivered':
        return 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400';
      case 'annule':
      case 'cancelled':
        return 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';
      default:
        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400';
    }
  };

  return (
    <>
            {/* Hero Section */}
      <section className="py-7 md:py-15 bg-cover bg-center bg-no-repeat relative" style={{ backgroundImage: 'url(/hero.jpg)' }}>
        {/* Overlay avec blur pour assurer la lisibilit√© du texte */}
        <div className="absolute inset-0 bg-black bg-opacity-40 backdrop-blur-sm"></div>
        <div className="relative z-10">
          <div className="container-ksl">
            <div className="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
              {/* Titre principal */}
              <h1 className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white dark:text-white mb-6 sm:mb-8">
                Simplifiez Votre Livraison
              </h1>

            {/* Section de suivi de colis */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-xl shadow-xl p-6 mb-8 border border-gray-200 dark:border-gray-700">
              <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4">
                Suivez votre colis
              </h2>
              <form onSubmit={handleTracking} className="flex flex-col sm:flex-row gap-4">
                <input
                  type="text"
                  value={trackingNumber}
                  onChange={(e) => setTrackingNumber(e.target.value)}
                  placeholder="Ex: ABC00000000123456789"
                  className="flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-bg-secondary text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-ksl-red"
                />
                <button
                  type="submit"
                  disabled={isTrackingLoading}
                  className="px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors duration-200 border border-green-600 flex items-center justify-center gap-2 disabled:opacity-50"
                >
                  {isTrackingLoading ? (
                    <div className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                  ) : (
                    <Search className="w-4 h-4" />
                  )}
                  {isTrackingLoading ? 'Recherche...' : 'Suivi'}
                </button>
              </form>
              {trackingError && (
                <div className="mt-3 text-sm text-red-600 dark:text-red-400">
                  {trackingError}
                </div>
              )}
            </div>

            {/* Description */}
            <p className="text-base sm:text-lg text-white/90 dark:text-gray-300 mb-6 sm:mb-8 max-w-3xl mx-auto px-4">
                Une solution compl√®te pour g√©rer vos exp√©ditions, points de relais, et paiements √† la livraison en toute simplicit√©.
              </p>

            {/* Section d'estimation rapide */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-xl shadow-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700">
              <h2 className="text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-4 sm:mb-6">
                Estimation Rapide
              </h2>
              <form onSubmit={handleEstimation} className="space-y-4">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Lieu de ramassage
                    </label>
                    <LocationSearch
                      value={pickupLocation}
                      onChange={setPickupLocation}
                      onLocationSelect={handlePickupLocationSelect}
                      placeholder="Adresse de ramassage"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Lieu de Livraison
                    </label>
                    <LocationSearch
                      value={deliveryLocation}
                      onChange={setDeliveryLocation}
                      onLocationSelect={handleDeliveryLocationSelect}
                      placeholder="Adresse de livraison"
                    />
                  </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Longueur (L) en cm
                    </label>
              <div className="relative">
                      <Ruler className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" />
                      <input
                        type="number"
                        step="0.1"
                        min="0"
                        value={length}
                        onChange={(e) => setLength(e.target.value)}
                        placeholder="Ex: 30"
                        className="w-full pl-10 pr-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-bg-secondary text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-ksl-red"
                  />
                </div>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Largeur (l) en cm
                    </label>
                    <div className="relative">
                      <Ruler className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" />
                      <input
                        type="number"
                        step="0.1"
                        min="0"
                        value={width}
                        onChange={(e) => setWidth(e.target.value)}
                        placeholder="Ex: 20"
                        className="w-full pl-10 pr-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-bg-secondary text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-ksl-red"
                      />
                    </div>
                  </div>
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Hauteur (H) en cm
                    </label>
                    <div className="relative">
                      <Ruler className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" />
                      <input
                        type="number"
                        step="0.1"
                        min="0"
                        value={height}
                        onChange={(e) => setHeight(e.target.value)}
                        placeholder="Ex: 10"
                        className="w-full pl-10 pr-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-bg-secondary text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-ksl-red"
                      />
                    </div>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                      Poids en kg
                    </label>
                    <div className="relative">
                      <Scale className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" />
                      <input
                        type="number"
                        step="0.1"
                        min="0"
                        value={weight}
                        onChange={(e) => setWeight(e.target.value)}
                        placeholder="Ex: 2.5"
                        className="w-full pl-10 pr-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-bg-secondary text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-ksl-red"
                      />
                    </div>
                  </div>
                </div>
                
                <div className="text-center">
                  <button
                    type="submit"
                    className="px-4 sm:px-8 py-2 sm:py-3 bg-ksl-red text-white font-medium rounded-lg hover:bg-ksl-red-dark transition-colors duration-200 flex items-center justify-center gap-2 mx-auto"
                  >
                    <Calculator className="w-4 h-4" />
                    <span className="text-sm sm:text-base">Calculer</span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        </div>
      </section>

      {/* Modal de suivi de colis */}
      {showTrackingModal && trackingResult && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in">
          <div className="bg-white dark:bg-dark-bg-secondary rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-slide-up">
            {/* Header du modal */}
            <div className="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700">
              <h3 className="text-xl font-bold text-gray-900 dark:text-white">
                Suivi de Colis
              </h3>
              <button
                onClick={() => setShowTrackingModal(false)}
                className="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200"
              >
                <X className="w-6 h-6" />
              </button>
            </div>

            {/* Contenu du modal */}
            <div className="p-6 space-y-6">
              {/* Informations du colis */}
              <div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                  <div>
                    <p className="text-sm text-gray-600 dark:text-gray-400">Num√©ro de suivi</p>
                    <p className="font-semibold text-gray-900 dark:text-white">
                      {trackingResult.expedition_number || trackingResult.code_retrait}
                    </p>
                  </div>
                  <div>
                    <p className="text-sm text-gray-600 dark:text-gray-400">Statut</p>
                    <div className="flex items-center gap-2">
                      {getStatusIcon(trackingResult.statut)}
                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trackingResult.statut)}`}>
                        {trackingResult.statut}
                      </span>
                    </div>
                  </div>
                  {trackingResult.adresse_expediteur?.address && (
                    <div>
                      <p className="text-sm text-gray-600 dark:text-gray-400">Adresse de ramassage</p>
                      <p className="text-sm font-medium text-gray-900 dark:text-white">
                        {trackingResult.adresse_expediteur.address}
                      </p>
                    </div>
                  )}
                  {trackingResult.adresse_destinataire?.address && (
                    <div>
                      <p className="text-sm text-gray-600 dark:text-gray-400">Adresse de livraison</p>
                      <p className="text-sm font-medium text-gray-900 dark:text-white">
                        {trackingResult.adresse_destinataire.address}
                      </p>
                    </div>
                  )}
                  {trackingResult.mode_expedition && (
                    <div>
                      <p className="text-sm text-gray-600 dark:text-gray-400">Mode d'exp√©dition</p>
                      <p className="text-sm font-medium text-gray-900 dark:text-white">{trackingResult.mode_expedition}</p>
                    </div>
                  )}
                  {trackingResult.transporteur && (
                    <div>
                      <p className="text-sm text-gray-600 dark:text-gray-400">Transporteur</p>
                      <p className="text-sm font-medium text-gray-900 dark:text-white">ID: {trackingResult.transporteur}</p>
                    </div>
                  )}
                  {trackingResult.pointrelais && (
                    <div>
                      <p className="text-sm text-gray-600 dark:text-gray-400">Point relais</p>
                      <p className="text-sm font-medium text-gray-900 dark:text-white">ID: {trackingResult.pointrelais}</p>
                    </div>
                  )}
                </div>
              </div>

              {/* √âtapes de suivi */}
              <div>
                <h4 className="text-lg font-semibold text-gray-900 dark:text-white mb-6">
                  Progression de la livraison
                </h4>
                
                {/* Timeline visuelle */}
                <div className="relative">
                  {/* Ligne de progression */}
                  <div className="absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"></div>
                  
                  <div className="space-y-8">
                    {/* √âtape 1: Commande cr√©√©e */}
                    <div className="relative flex items-start animate-fade-in" style={{ animationDelay: '0.1s' }}>
                      <div className="flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center z-10 relative">
                        <CheckCircle className="w-5 h-5 text-white" />
                      </div>
                      <div className="ml-6 flex-1">
                        <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-300">
                          <div className="flex items-center justify-between mb-2">
                            <h5 className="font-semibold text-gray-900 dark:text-white">Commande cr√©√©e</h5>
                            <span className="text-xs text-green-600 dark:text-green-400 font-medium">‚úì Termin√©</span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400 mb-2">
                            Votre commande a √©t√© enregistr√©e avec succ√®s
                          </p>
                          <div className="text-xs text-gray-500 dark:text-gray-400 space-y-1">
                            <p>üìÖ {trackingResult.date_creation ? new Date(trackingResult.date_creation).toLocaleDateString('fr-FR', {
                              day: '2-digit',
                              month: '2-digit',
                              year: 'numeric',
                              hour: '2-digit',
                              minute: '2-digit'
                            }) : 'Date non disponible'}</p>
                            <p>üÜî N¬∞ Commande: {trackingResult.order_number}</p>
                            <p>üì¶ N¬∞ Exp√©dition: {trackingResult.expedition_number}</p>
                          </div>
                        </div>
                      </div>
                    </div>

                    {/* √âtape 2: Colis pr√©par√© */}
                    <div className="relative flex items-start animate-fade-in" style={{ animationDelay: '0.2s' }}>
                      <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center z-10 relative ${
                        ['pr√©par√©', 'en cours', 'livr√©'].includes(trackingResult.statut_colis?.toLowerCase()) 
                          ? 'bg-green-500' 
                          : 'bg-gray-300 dark:bg-gray-600'
                      }`}>
                        {['pr√©par√©', 'en cours', 'livr√©'].includes(trackingResult.statut_colis?.toLowerCase()) ? (
                          <CheckCircle className="w-5 h-5 text-white" />
                        ) : (
                          <Package className="w-5 h-5 text-gray-500" />
                        )}
                      </div>
                      <div className="ml-6 flex-1">
                        <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-300">
                          <div className="flex items-center justify-between mb-2">
                            <h5 className="font-semibold text-gray-900 dark:text-white">Colis pr√©par√©</h5>
                            <span className={`text-xs font-medium ${
                              ['pr√©par√©', 'en cours', 'livr√©'].includes(trackingResult.statut_colis?.toLowerCase())
                                ? 'text-green-600 dark:text-green-400'
                                : 'text-gray-500 dark:text-gray-400'
                            }`}>
                              {['pr√©par√©', 'en cours', 'livr√©'].includes(trackingResult.statut_colis?.toLowerCase()) ? '‚úì Termin√©' : '‚è≥ En attente'}
                            </span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400 mb-3">
                            {trackingResult.statut_colis === 'pr√©par√©' ? 'Votre colis est pr√™t pour l\'exp√©dition' : 'En attente de pr√©paration'}
                          </p>
                          {trackingResult.infocolis && trackingResult.infocolis.length > 0 && (
                            <div className="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                              <p className="text-xs font-medium text-gray-700 dark:text-gray-300 mb-2">Contenu du colis:</p>
                              <div className="space-y-1">
                                {trackingResult.infocolis.map((item, index) => (
                                  <div key={index} className="flex items-center justify-between text-xs">
                                    <span className="text-gray-600 dark:text-gray-400">
                                      üì¶ {item.name} ({item.quantity}x)
                                    </span>
                                    <span className="text-gray-500 dark:text-gray-400">
                                      {item.weight}kg
                                    </span>
                                  </div>
                                ))}
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>

                    {/* √âtape 3: En route */}
                    <div className="relative flex items-start animate-fade-in" style={{ animationDelay: '0.3s' }}>
                      <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center z-10 relative ${
                        ['en cours', 'livr√©'].includes(trackingResult.statut?.toLowerCase()) 
                          ? 'bg-green-500' 
                          : 'bg-gray-300 dark:bg-gray-600'
                      }`}>
                        {['en cours', 'livr√©'].includes(trackingResult.statut?.toLowerCase()) ? (
                          <CheckCircle className="w-5 h-5 text-white" />
                        ) : (
                          <TruckIcon className="w-5 h-5 text-gray-500" />
                        )}
                      </div>
                      <div className="ml-6 flex-1">
                        <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-300">
                          <div className="flex items-center justify-between mb-2">
                            <h5 className="font-semibold text-gray-900 dark:text-white">En route</h5>
                            <span className={`text-xs font-medium ${
                              ['en cours', 'livr√©'].includes(trackingResult.statut?.toLowerCase())
                                ? 'text-green-600 dark:text-green-400'
                                : 'text-gray-500 dark:text-gray-400'
                            }`}>
                              {['en cours', 'livr√©'].includes(trackingResult.statut?.toLowerCase()) ? '‚úì En cours' : '‚è≥ En attente'}
                            </span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400 mb-3">
                            {trackingResult.statut === 'en cours' ? 'Votre colis est en cours de livraison' : 'En attente de prise en charge'}
                          </p>
                          {trackingResult.delais_livraison && (
                            <div className="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3">
                              <div className="flex items-center gap-2">
                                <Clock className="w-4 h-4 text-blue-600 dark:text-blue-400" />
                                <span className="text-xs font-medium text-blue-700 dark:text-blue-300">
                                  D√©lai estim√©: {trackingResult.delais_livraison}
                                </span>
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>

                    {/* √âtape 4: Livr√© */}
                    <div className="relative flex items-start animate-fade-in" style={{ animationDelay: '0.4s' }}>
                      <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center z-10 relative ${
                        trackingResult.statut?.toLowerCase() === 'livr√©' 
                          ? 'bg-green-500' 
                          : 'bg-gray-300 dark:bg-gray-600'
                      }`}>
                        {trackingResult.statut?.toLowerCase() === 'livr√©' ? (
                          <CheckCircle className="w-5 h-5 text-white" />
                        ) : (
                          <PackageIcon className="w-5 h-5 text-gray-500" />
                        )}
                      </div>
                      <div className="ml-6 flex-1">
                        <div className="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-300">
                          <div className="flex items-center justify-between mb-2">
                            <h5 className="font-semibold text-gray-900 dark:text-white">Livr√©</h5>
                            <span className={`text-xs font-medium ${
                              trackingResult.statut?.toLowerCase() === 'livr√©'
                                ? 'text-green-600 dark:text-green-400'
                                : 'text-gray-500 dark:text-gray-400'
                            }`}>
                              {trackingResult.statut?.toLowerCase() === 'livr√©' ? '‚úì Livr√©' : '‚è≥ En attente'}
                            </span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            {trackingResult.statut?.toLowerCase() === 'livr√©' 
                              ? 'Votre colis a √©t√© livr√© avec succ√®s' 
                              : 'En attente de livraison'
                            }
                          </p>
                          {trackingResult.statut?.toLowerCase() === 'livr√©' && (
                            <div className="mt-3 bg-green-50 dark:bg-green-900/20 rounded-lg p-3">
                              <div className="flex items-center gap-2">
                                <CheckCircle className="w-4 h-4 text-green-600 dark:text-green-400" />
                                <span className="text-xs font-medium text-green-700 dark:text-green-300">
                                  Livraison termin√©e avec succ√®s
                                </span>
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  </div>
                                            </div>
            </div>

            {/* Footer du modal */}
            <div className="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700">
              <button
                onClick={() => setShowTrackingModal(false)}
                className="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200"
              >
                Fermer
              </button>
            </div>
          </div>
        </div>
      )}

      {/* Section Nos Services */}
      <section className="py-16 md:py-20 bg-gray-50 dark:bg-dark-bg-secondary">
        <div className="container-ksl">
          <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
              NOS SERVICES DE LIVRAISONS
            </h2>
            <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
              Trouvez la formule qui correspond √† vos besoins professionnels ou personnels.
            </p>
          </div>

          <div className="space-y-8">
            {/* Premi√®re ligne : 2 cartes centr√©es */}
            <div className="flex justify-center">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl">
                {/* Livraison Flash */}
                <div className="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-red-500">
              <div className="flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg mb-4">
                <Zap className="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-2">
                    Livraison Flash
              </h3>
              <p className="text-gray-600 dark:text-gray-400 mb-3">
                    Ideale pour les livraisons tres urgentes
              </p>
              <div className="space-y-2">
                <p className="text-sm text-gray-500 dark:text-gray-400">
                      <span className="font-medium">Zone :</span> Locale
                </p>
                <p className="text-sm text-gray-500 dark:text-gray-400">
                      <span className="font-medium">D√©lai :</span> 0 √† 2h
                </p>
              </div>
            </div>

                {/* Livraison Express */}
                <div className="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-red-500">
              <div className="flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg mb-4">
                <Zap className="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-2">
                    Livraison Express
              </h3>
              <p className="text-gray-600 dark:text-gray-400 mb-3">
                    Id√©ale pour les livraisons urgentes
              </p>
              <div className="space-y-2">
                <p className="text-sm text-gray-500 dark:text-gray-400">
                      <span className="font-medium">Zone :</span> Locale
                </p>
                <p className="text-sm text-gray-500 dark:text-gray-400">
                      <span className="font-medium">D√©lai :</span> en 24h
                </p>
                  </div>
                </div>
              </div>
            </div>

            {/* Deuxi√®me ligne : 3 cartes */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {/* Livraison Standard */}
            <div className="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 dark:border-gray-700">
              <div className="flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg mb-4">
                <Zap className="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-2">
                  Livraison Standard
              </h3>
              <p className="text-gray-600 dark:text-gray-400 mb-3">
                  Un bon compromis entre rapidit√© et co√ªt
              </p>
              <div className="space-y-2">
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">Zone :</span> Locale
                </p>
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">D√©lai :</span> 1 √† 2 jours ouvr√©s
                </p>
              </div>
            </div>

              {/* Livraison √âco */}
            <div className="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 dark:border-gray-700">
              <div className="flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg mb-4">
                <Zap className="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-2">
                  Livraison √âco
              </h3>
              <p className="text-gray-600 dark:text-gray-400 mb-3">
                  Pour vos envois non urgents, √† petit prix
              </p>
              <div className="space-y-2">
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">Zone :</span> Locale
                </p>
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">D√©lai :</span> 2 √† 3 jours ouvr√©s
                </p>
              </div>
            </div>

              {/* Livraison R√©gionale */}
            <div className="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 dark:border-gray-700">
              <div className="flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg mb-4">
                <Zap className="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-2">
                  Livraison R√©gionale
              </h3>
              <p className="text-gray-600 dark:text-gray-400 mb-3">
                  Pour les envois entre villes ou √† l'int√©rieur du pays
              </p>
              <div className="space-y-2">
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">Zone :</span> R√©gionale / Interurbaine
                </p>
                <p className="text-sm text-gray-500 dark:text-gray-400">
                    <span className="font-medium">D√©lai :</span> 2 √† 7 jours
                </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Chiffres cl√©s */}
      <section className="hidden py-16 bg-gray-50 dark:bg-dark-bg-secondary">
        <div className="container-ksl">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div className="bg-white dark:bg-dark-bg rounded-xl p-8 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-gray-700">
              <div className="w-16 h-16 bg-ksl-red/10 rounded-full flex items-center justify-center mx-auto mb-4">
                <Package className="w-8 h-8 text-ksl-red" />
              </div>
              <div className="text-4xl font-bold text-ksl-red mb-2">1000+</div>
              <div className="text-gray-600 dark:text-gray-300 font-medium">Colis livr√©s chaque mois</div>
            </div>
            <div className="bg-white dark:bg-dark-bg rounded-xl p-8 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-gray-700">
              <div className="w-16 h-16 bg-ksl-red/10 rounded-full flex items-center justify-center mx-auto mb-4">
                <Truck className="w-8 h-8 text-ksl-red" />
              </div>
              <div className="text-4xl font-bold text-ksl-red mb-2">50+</div>
              <div className="text-gray-600 dark:text-gray-300 font-medium">Points de relais connect√©s</div>
            </div>
            <div className="bg-white dark:bg-dark-bg rounded-xl p-8 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-gray-700">
              <div className="w-16 h-16 bg-ksl-red/10 rounded-full flex items-center justify-center mx-auto mb-4">
                <Star className="w-8 h-8 text-ksl-red" />
              </div>
              <div className="text-4xl font-bold text-ksl-red mb-2">95%</div>
              <div className="text-gray-600 dark:text-gray-300 font-medium">Clients satisfaits</div>
            </div>
          </div>
        </div>
      </section>

      {/* Section Nos Solutions */}
      <section className="hidden py-16 md:py-20 bg-white dark:bg-dark-bg">
        <div className="container-ksl">
          <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
              Nos Solutions
            </h2>
            <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
              Des solutions adapt√©es √† vos besoins sp√©cifiques en mati√®re de logistique
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {/* Exp√©dition Facile */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mb-4">
                  <Box className="w-8 h-8 text-amber-600 dark:text-amber-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Exp√©dition Facile
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Cr√©ez des √©tiquettes d'exp√©dition et choisissez le meilleur transporteur en quelques clics.
                </p>

              </div>
            </div>

            {/* Points de Relais Connect√©s */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4">
                  <Building className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Points de Relais Connect√©s
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  D√©p√¥t, retrait et gestion de stock en temps r√©el dans notre r√©seau de points relais.
                </p>

              </div>
            </div>

            {/* Cash on Delivery */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center mb-4">
                  <DollarSign className="w-8 h-8 text-yellow-600 dark:text-yellow-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
          
                  Paiement √† la  Livraison (PAL)
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Solution de paiement s√©curis√©e √† la livraison pour plus de confiance.
                </p>

              </div>
            </div>

            {/* Gestion des Retours */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-cyan-100 dark:bg-cyan-900/20 rounded-full flex items-center justify-center mb-4">
                  <RotateCcw className="w-8 h-8 text-cyan-600 dark:text-cyan-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Gestion des Retours
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Simplifiez la gestion des retours pour vos clients et votre entreprise.
                </p>

              </div>
            </div>

            {/* Suivi et Tra√ßabilit√© */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4">
                  <Search className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Suivi et Tra√ßabilit√©
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Suivez vos colis en temps r√©el et informez vos clients √† chaque √©tape.
                </p>

              </div>
            </div>

            {/* Marketplace Logistique */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
              <div className="absolute left-0 top-0 bottom-0 w-1 bg-ksl-red"></div>
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-gradient-to-br from-ksl-red to-ksl-red-dark rounded-full flex items-center justify-center mb-4">
                  <Rocket className="w-8 h-8 text-white" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Marketplace Logistique
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Bient√¥t disponible : Une place de march√© pour tous vos besoins logistiques.
                </p>
                <span className="text-ksl-red font-medium">
                  Bient√¥t disponible ‚Üí
                </span>
              </div>
            </div>
          </div>
          
          {/* Bouton d'action */}
          <div className="text-center mt-12">
            <Link 
              to="/solutions" 
              className="inline-flex items-center justify-center px-8 py-3 bg-ksl-red text-white font-medium rounded-lg hover:bg-ksl-red-dark transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
            >
              D√©couvrir toutes nos solutions
            </Link>
          </div>
        </div>
      </section>

      {/* Section Fonctionnalit√©s */}
      <section className="hidden py-16 md:py-20 bg-gray-50 dark:bg-dark-bg-secondary">
        <div className="container-ksl">
          <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
              Fonctionnalit√©s
            </h2>
            <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
              Des outils puissants pour optimiser et simplifier votre gestion logistique
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
            {/* Impression d'√©tiquettes d'exp√©dition */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-pink-100 dark:bg-pink-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Printer className="w-8 h-8 text-pink-600 dark:text-pink-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Impression d'√©tiquettes d'exp√©dition
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                G√©n√©rez et imprimez facilement vos √©tiquettes d'exp√©dition personnalis√©es.
              </p>
            </div>

            {/* Int√©gration API compl√®te */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <ArrowLeftRight className="w-8 h-8 text-blue-600 dark:text-blue-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Int√©gration API compl√®te
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                Connectez votre syst√®me e-commerce avec notre API pour automatiser vos processus.
              </p>
            </div>

            {/* Tableaux de bord personnalis√©s */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-pink-100 dark:bg-pink-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <BarChart3 className="w-8 h-8 text-pink-600 dark:text-pink-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Tableaux de bord personnalis√©s
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                Suivez toutes vos activit√©s logistiques gr√¢ce √† nos tableaux de bord client et relais.
              </p>
            </div>

            {/* Module de paiement int√©gr√© */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <CreditCard className="w-8 h-8 text-yellow-600 dark:text-yellow-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Module de paiement int√©gr√©
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                Solution de paiement s√©curis√©e pour vos transactions cash on delivery.
              </p>
            </div>

            {/* Statistiques en temps r√©el */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-pink-100 dark:bg-pink-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <TrendingUp className="w-8 h-8 text-pink-600 dark:text-pink-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Statistiques en temps r√©el
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                Analysez votre performance logistique avec des rapports d√©taill√©s.
              </p>
            </div>

            {/* Application Mobile */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Smartphone className="w-8 h-8 text-amber-600 dark:text-amber-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-3">
                Application Mobile
              </h3>
              <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                Prochainement : G√©rez vos exp√©ditions depuis votre smartphone.
              </p>
            </div>
          </div>

          {/* Bouton d'action */}
          <div className="text-center">
            <Link 
              to="/fonctionnalites" 
              className="inline-flex items-center justify-center px-8 py-3 bg-ksl-red text-white font-medium rounded-lg hover:bg-ksl-red-dark transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
            >
              D√©couvrir toutes nos fonctionnalit√©s
            </Link>
          </div>
        </div>
      </section>

      {/* Section Pour qui ? */}
      <section className="py-16 md:py-20 bg-white dark:bg-dark-bg">
        <div className="container-ksl">
          <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
              Pour qui ?
            </h2>
            <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
              Des solutions adapt√©es √† diff√©rents profils d'utilisateurs et secteurs d'activit√©
            </p>
          </div>

          <div className="space-y-8">
            {/* Premi√®re ligne : 2 cartes centr√©es */}
            <div className="flex justify-center">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl">
            {/* Particuliers */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-ksl-red shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4">
                  <User className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Particuliers
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Envoyez et recevez des colis facilement, sans tracas administratifs.
                </p>
              </div>
            </div>

            {/* Entreprises */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-ksl-red shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4">
                  <Building className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Entreprises
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Optimisez votre cha√Æne logistique et r√©duisez vos co√ªts d'exp√©dition.
                </p>
                  </div>
                </div>
              </div>
            </div>

            {/* Deuxi√®me ligne : 3 cartes */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {/* E-commer√ßants */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-ksl-red shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4">
                  <ShoppingCart className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  E-commer√ßants
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Am√©liorez votre service client avec des livraisons rapides et fiables.
                </p>
              </div>
            </div>

            {/* Points de relais */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-ksl-red shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4">
                  <MapPin className="w-8 h-8 text-red-600 dark:text-red-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Points de relais
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  G√©n√©rez des revenus suppl√©mentaires en devenant un point de collecte et livraison.
                </p>
              </div>
            </div>

            {/* Transporteurs */}
            <div className="bg-white dark:bg-dark-bg-secondary rounded-lg p-6 border border-ksl-red shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="flex flex-col items-center text-center">
                <div className="w-16 h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center mb-4">
                  <Truck className="w-8 h-8 text-yellow-600 dark:text-yellow-400" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                  Transporteurs
                </h3>
                <p className="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed">
                  Augmentez votre volume d'affaires en rejoignant notre r√©seau de transport.
                </p>
                </div>
              </div>
            </div>
          </div>
          
          {/* Bouton d'action */}
          <div className="text-center mt-12">
            <Link 
              to="/pour-qui" 
              className="inline-flex items-center justify-center px-8 py-3 bg-ksl-red text-white font-medium rounded-lg hover:bg-ksl-red-dark transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
            >
              D√©couvrir pour qui
            </Link>
          </div>
        </div>
      </section>

      {/* Banni√®re CTA */}
      <section className="py-16 md:py-20 bg-ksl-red">
        <div className="container-ksl">
          <div className="text-center">
            <h2 className="text-3xl md:text-4xl font-bold text-white mb-4">
              Pr√™t √† simplifier votre logistique ?
            </h2>
            <p className="text-lg text-white/90 mb-8 max-w-2xl mx-auto">
              Rejoignez LMS Katian et transformez votre mani√®re de g√©rer les exp√©ditions.
            </p>
            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <Link 
                to="/contact" 
                className="inline-flex items-center justify-center px-8 py-3 bg-white text-ksl-red font-medium rounded-lg hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
              >
                Contactez-nous
              </Link>
              <Link 
                to="/tarifs" 
                className="inline-flex items-center justify-center px-8 py-3 bg-ksl-red text-white font-medium rounded-lg border-2 border-white hover:bg-white hover:text-ksl-red transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
              >
                Voir les tarifs
              </Link>
            </div>
          </div>
        </div>
      </section>

      {/* Section Nos Partenaires */}
      <section className="hidden py-16 md:py-20 bg-gray-50 dark:bg-dark-bg-secondary">
        <div className="container-ksl">
          <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
              Nos Partenaires
            </h2>
            <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
              Nous collaborons avec les meilleurs transporteurs et constructeurs pour vous offrir un service de qualit√©
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
            {/* Transport Express */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Truck className="w-8 h-8 text-orange-600 dark:text-orange-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-2">
                Transport Express
              </h3>
              <p className="text-sm text-gray-600 dark:text-gray-300">
                Transporteur
              </p>
            </div>

            {/* Fast Delivery */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Bike className="w-8 h-8 text-yellow-600 dark:text-yellow-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-2">
                Fast Delivery
              </h3>
              <p className="text-sm text-gray-600 dark:text-gray-300">
                Transporteur
              </p>
            </div>

            {/* EcoMobility */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Bike className="w-8 h-8 text-blue-600 dark:text-blue-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-2">
                EcoMobility
              </h3>
              <p className="text-sm text-gray-600 dark:text-gray-300">
                Constructeur
              </p>
            </div>

            {/* Green Logistics */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Bike className="w-8 h-8 text-green-600 dark:text-green-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-2">
                Green Logistics
              </h3>
              <p className="text-sm text-gray-600 dark:text-gray-300">
                Transporteur
              </p>
            </div>

            {/* Electric Vehicles */}
            <div className="bg-white dark:bg-dark-bg rounded-lg p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
              <div className="w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                <Battery className="w-8 h-8 text-green-600 dark:text-green-400" />
              </div>
              <h3 className="text-lg font-bold text-gray-900 dark:text-white mb-2">
                Electric Vehicles
              </h3>
              <p className="text-sm text-gray-600 dark:text-gray-300">
                Constructeur
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* T√©moignages */}
      <section className="py-16 md:py-20 bg-gradient-to-br from-gray-50 to-white dark:from-dark-bg-secondary dark:to-dark-bg">
        <div className="container-ksl">
          <h2 className="text-2xl md:text-3xl font-bold text-center mb-12 text-gray-900 dark:text-white">
            Ils nous font confiance
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {[
              {
                name: "Marie Kon√©",
                company: "E-commerce Plus",
                testimonial: "Super service, simple et efficace ! La livraison est rapide et le suivi en temps r√©el est g√©nial."
              },
              {
                name: "Ahmed Diallo",
                company: "Tech Solutions",
                testimonial: "Katian a r√©volutionn√© notre logistique. Interface intuitive et support client exceptionnel."
              },
              {
                name: "Fatou Traor√©",
                company: "Boutique Moderne",
                testimonial: "Depuis que nous utilisons Katian, nos clients sont plus satisfaits. Service de qualit√© !"
              }
            ].map((testimonial, i) => (
              <div key={i} className="bg-white dark:bg-dark-bg-secondary rounded-xl shadow-lg hover:shadow-xl p-6 flex flex-col items-center border border-gray-100 dark:border-gray-700 transition-all duration-300 transform hover:-translate-y-2">
                <div className="w-16 h-16 rounded-full bg-gradient-to-br from-ksl-red to-ksl-red-dark flex items-center justify-center mb-4 shadow-md">
                  <Users className="w-8 h-8 text-white" />
                </div>
                <p className="text-gray-700 dark:text-gray-200 mb-4 italic text-center leading-relaxed">
                  "{testimonial.testimonial}"
                </p>
                <div className="font-semibold text-ksl-red mb-2">{testimonial.name}</div>
                <Badge variant="info" className="shadow-sm">{testimonial.company}</Badge>
              </div>
            ))}
          </div>
        </div>
      </section>
    </>
  );
} 